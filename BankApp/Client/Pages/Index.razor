@page "/"
@inherits IndexBase


<AuthorizeView Roles="admin" Context="authContext">
    <Authorized>
        <pre>innlogad som admin</pre>
    </Authorized>

</AuthorizeView>


<AuthorizeView Roles="customer" Context="authContext">
    <Authorized>
        <pre>Inloggad som kund</pre>
    </Authorized>

</AuthorizeView>



<AuthorizeView Roles="pending" Context="authContext">
    <Authorized>
        <pre>Inloggad men inte som kund eller admin</pre>


        @if (!VisaInteEditForm)
        {
<p class="text-left">Du har registrerat dig för att bli kund i banken</p>
                    <br />
                                        <p class="text-left">För att en administratör ska kunna godkänna din förfrågan var god fyll i dina uppgifter!</p>


                                                            <EditForm Model="@NyCustomer" OnValidSubmit="HandleValidSubmit">

                                                                <h3>Din uppgifter</h3>
                                                                <hr />
                                                                <div class="form-group row">
                                                                    <label for="firstName" class="col-sm-2 col-form-label">
                                                                        Förnamn
                                                                    </label>
                                                                    <div class="col-sm-10">
                                                                        <InputText id="firstName" class="form-control" placeholder="fyll i förnamn"
                                                                                   @bind-Value="@NyCustomer.Givenname" />
                                                                    </div>
                                                                </div>
                                                                <div class="form-group row">
                                                                    <label for="lastName" class="col-sm-2 col-form-label">
                                                                        Efternamn
                                                                    </label>
                                                                    <div class="col-sm-10">
                                                                        <InputText id="lastName" class="form-control" placeholder="fyll i efternamn"
                                                                                   @bind-Value="NyCustomer.Surname" />
                                                                    </div>
                                                                </div>
                                                                <button type="submit" class="btn btn-primary">Spara</button>


                                                            </EditForm>}

        @if (VisaInteEditForm)
        {
<p class="text-left">Tack :-)  @NyCustomer.Givenname @NyCustomer.Surname. Ny ska bara administratören godkänna dig!</p>}


    </Authorized>


    <NotAuthorized>

        @if (!IsAuthenticated)
        {
        <pre>Inte inloggad</pre>
        <div class="row">
            <div class="text-nowrap" style="width: 8rem;">
                För att bli kund i banken registrera dig...
            </div>
        </div>
        <br />
        <div class="row">
            <div class="text-nowrap" style="width: 8rem;">
                Är du redan kund så är det bara att logga in.
            </div>
        </div>
        }
    </NotAuthorized>
</AuthorizeView>